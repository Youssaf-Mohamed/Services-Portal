import{a as _,P as f,B as m}from"./PageHeader-DedF_tvu.js";import{a as b}from"./adminTransport.api-C7MzCjLU.js";import{_ as g,i as q,j as y,k as a,r as k,y as x,o as p,l as i,c,a as t,t as l,p as d}from"./index-Bc4wcCny.js";const w={key:0,class:"loading-state"},A={key:1,class:"error-state"},M={key:2,class:"dashboard-content"},B={class:"kpi-grid"},D={class:"kpi-card pending"},R={class:"kpi-info"},V={class:"kpi-value"},P={class:"kpi-card active"},S={class:"kpi-info"},C={class:"kpi-value"},N={class:"kpi-card waitlisted"},T={class:"kpi-info"},E={class:"kpi-value"},L={class:"kpi-card routes"},j={class:"kpi-info"},F={class:"kpi-value"},H={class:"kpi-card slots"},I={class:"kpi-info"},O={class:"kpi-value"},Q={class:"quick-links"},W={class:"links-grid"},z={__name:"Dashboard",setup(G){const u=k(!0),r=k(null),o=k({pending_requests:0,active_subscriptions:0,waitlisted_subscriptions:0,active_routes:0,active_slots:0}),v=async()=>{try{u.value=!0,r.value=null;const e=await b.getDashboard();e.data.success&&(o.value=e.data.data)}catch(e){r.value=e.response?.data?.message||"Failed to load dashboard"}finally{u.value=!1}};return q(v),(e,s)=>{const n=x("router-link");return p(),y(_,null,{default:a(()=>[i(f,{title:"Transport Management",subtitle:"Overview of transport subscription system",breadcrumbs:[{label:"Admin",to:"/admin/transport"},{label:"Dashboard"}]}),u.value?(p(),c("div",w,[...s[0]||(s[0]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading dashboard...",-1)])])):r.value?(p(),c("div",A,[t("p",null,l(r.value),1),i(m,{variant:"primary",onClick:v},{default:a(()=>[...s[1]||(s[1]=[d("Retry",-1)])]),_:1})])):(p(),c("div",M,[t("div",B,[t("div",D,[s[4]||(s[4]=t("div",{class:"kpi-icon"},"ðŸ“‹",-1)),t("div",R,[t("span",V,l(o.value.pending_requests),1),s[2]||(s[2]=t("span",{class:"kpi-label"},"Pending Requests",-1))]),i(n,{to:"/admin/transport/requests?status=pending",class:"kpi-link"},{default:a(()=>[...s[3]||(s[3]=[d(" View All â†’ ",-1)])]),_:1})]),t("div",P,[s[7]||(s[7]=t("div",{class:"kpi-icon"},"âœ…",-1)),t("div",S,[t("span",C,l(o.value.active_subscriptions),1),s[5]||(s[5]=t("span",{class:"kpi-label"},"Active Subscriptions",-1))]),i(n,{to:"/admin/transport/requests?status=approved",class:"kpi-link"},{default:a(()=>[...s[6]||(s[6]=[d(" View All â†’ ",-1)])]),_:1})]),t("div",N,[s[9]||(s[9]=t("div",{class:"kpi-icon"},"â³",-1)),t("div",T,[t("span",E,l(o.value.waitlisted_subscriptions),1),s[8]||(s[8]=t("span",{class:"kpi-label"},"Waitlisted",-1))])]),t("div",L,[s[12]||(s[12]=t("div",{class:"kpi-icon"},"ðŸšŒ",-1)),t("div",j,[t("span",F,l(o.value.active_routes),1),s[10]||(s[10]=t("span",{class:"kpi-label"},"Active Routes",-1))]),i(n,{to:"/admin/transport/routes",class:"kpi-link"},{default:a(()=>[...s[11]||(s[11]=[d(" Manage â†’ ",-1)])]),_:1})]),t("div",H,[s[15]||(s[15]=t("div",{class:"kpi-icon"},"ðŸ•",-1)),t("div",I,[t("span",O,l(o.value.active_slots),1),s[13]||(s[13]=t("span",{class:"kpi-label"},"Active Slots",-1))]),i(n,{to:"/admin/transport/slots",class:"kpi-link"},{default:a(()=>[...s[14]||(s[14]=[d(" Manage â†’ ",-1)])]),_:1})])]),t("div",Q,[s[20]||(s[20]=t("h2",null,"Quick Actions",-1)),t("div",W,[i(n,{to:"/admin/transport/requests",class:"quick-link-card"},{default:a(()=>[...s[16]||(s[16]=[t("span",{class:"link-icon"},"ðŸ“",-1),t("span",{class:"link-text"},"Review Requests",-1)])]),_:1}),i(n,{to:"/admin/transport/routes",class:"quick-link-card"},{default:a(()=>[...s[17]||(s[17]=[t("span",{class:"link-icon"},"ðŸ—ºï¸",-1),t("span",{class:"link-text"},"Manage Routes",-1)])]),_:1}),i(n,{to:"/admin/transport/slots",class:"quick-link-card"},{default:a(()=>[...s[18]||(s[18]=[t("span",{class:"link-icon"},"ðŸ“…",-1),t("span",{class:"link-text"},"Manage Slots",-1)])]),_:1}),i(n,{to:"/admin/transport/manifest",class:"quick-link-card"},{default:a(()=>[...s[19]||(s[19]=[t("span",{class:"link-icon"},"ðŸ“Š",-1),t("span",{class:"link-text"},"Export Manifest",-1)])]),_:1})])])]))]),_:1})}}},X=g(z,[["__scopeId","data-v-9d5e1b87"]]);export{X as default};
