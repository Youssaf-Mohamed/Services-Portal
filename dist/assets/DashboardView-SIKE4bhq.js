import{_ as y,u as h,c as u,a as s,t as o,m as c,l as r,k as i,d as k,y as w,r as p,x as v,e as S,o as m}from"./index-Bc4wcCny.js";const C={class:"admin-page"},N={class:"content"},R={class:"user-info"},x={class:"info-row"},A={class:"value"},T={class:"info-row"},V={class:"value role-badge"},D={class:"transport-section"},I={class:"transport-links"},P={class:"test-api"},J={class:"button-group"},O=["disabled"],B=["disabled"],M={key:0,class:"api-result"},q={__name:"DashboardView",setup(E){const g=S(),d=h(),n=p(""),e=p(!1),_=async()=>{await d.logout(),g.push("/login")},f=async()=>{e.value=!0;try{const t=await v.get("/api/admin/ping");n.value=JSON.stringify(t.data,null,2)}catch(t){n.value=JSON.stringify(t.response?.data||{error:t.message},null,2)}finally{e.value=!1}},b=async()=>{e.value=!0;try{const t=await v.get("/api/admin/storage-check");n.value=JSON.stringify(t.data,null,2)}catch(t){n.value=JSON.stringify(t.response?.data||{error:t.message},null,2)}finally{e.value=!1}};return(t,a)=>{const l=w("router-link");return m(),u("div",C,[s("div",{class:"header"},[a[0]||(a[0]=s("h1",null,"Admin Dashboard",-1)),s("button",{onClick:_,class:"logout-btn"},"Logout")]),s("div",N,[s("div",R,[s("h2",null,"Welcome, "+o(c(d).user?.name)+"!",1),s("div",x,[a[1]||(a[1]=s("span",{class:"label"},"Email:",-1)),s("span",A,o(c(d).user?.email),1)]),s("div",T,[a[2]||(a[2]=s("span",{class:"label"},"Role:",-1)),s("span",V,o(c(d).user?.role),1)])]),s("div",D,[a[8]||(a[8]=s("h3",null,"Transport Management",-1)),s("div",I,[r(l,{to:"/admin/transport",class:"transport-card"},{default:i(()=>[...a[3]||(a[3]=[s("span",{class:"card-icon"},"ðŸ“Š",-1),s("span",{class:"card-title"},"Dashboard",-1),s("span",{class:"card-desc"},"View KPIs & overview",-1)])]),_:1}),r(l,{to:"/admin/transport/requests",class:"transport-card"},{default:i(()=>[...a[4]||(a[4]=[s("span",{class:"card-icon"},"ðŸ“",-1),s("span",{class:"card-title"},"Requests",-1),s("span",{class:"card-desc"},"Review & moderate",-1)])]),_:1}),r(l,{to:"/admin/transport/routes",class:"transport-card"},{default:i(()=>[...a[5]||(a[5]=[s("span",{class:"card-icon"},"ðŸ—ºï¸",-1),s("span",{class:"card-title"},"Routes",-1),s("span",{class:"card-desc"},"Manage bus routes",-1)])]),_:1}),r(l,{to:"/admin/transport/slots",class:"transport-card"},{default:i(()=>[...a[6]||(a[6]=[s("span",{class:"card-icon"},"ðŸ“…",-1),s("span",{class:"card-title"},"Slots",-1),s("span",{class:"card-desc"},"Schedule & capacity",-1)])]),_:1}),r(l,{to:"/admin/transport/manifest",class:"transport-card"},{default:i(()=>[...a[7]||(a[7]=[s("span",{class:"card-icon"},"ðŸ‘¥",-1),s("span",{class:"card-title"},"Manifest",-1),s("span",{class:"card-desc"},"Passenger lists",-1)])]),_:1})])]),s("div",P,[a[10]||(a[10]=s("h3",null,"API Tests",-1)),s("div",J,[s("button",{onClick:f,disabled:e.value},o(e.value?"Testing...":"Test Admin API"),9,O),s("button",{onClick:b,disabled:e.value},o(e.value?"Testing...":"Test Storage Check"),9,B)]),n.value?(m(),u("div",M,[a[9]||(a[9]=s("h4",null,"Response:",-1)),s("pre",null,o(n.value),1)])):k("",!0)])])])}}},K=y(q,[["__scopeId","data-v-7e5cbc2c"]]);export{K as default};
